<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Asynchronous Image Loading in JavaScript - JavaScript Jeep</title><meta name="gridsome:hash" content="db08af0d0585ff8827d445cb9138a98591e815c3"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.14"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="keywords" content="JavaScript, programming, JavaScript Jeep, Coding, 100DaysOfCode, "><meta data-vue-tag="ssr" name="description" content="JavaScript Jeep for JavaScript Articles"><meta data-vue-tag="ssr" name="author" content="JavaScript Jeep"><meta data-vue-tag="ssr" name="monetization" content="$ilp.uphold.com/iyh9Aa6JGmkX"><meta data-vue-tag="ssr" data-key="description" name="description" content="Website for JavaScript Articles"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700"><link rel="preload" href="/assets/css/0.styles.efe1e658.css" as="style"><link rel="preload" href="/assets/js/app.ab955f53.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.a60ebd31.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.bd165bb9.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.393c1011.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.866313f5.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.a11002ec.js"><link rel="stylesheet" href="/assets/css/0.styles.efe1e658.css"><script data-vue-tag="ssr" type="text/javascript" src="/assets/js/service-worker.js" async></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="content-wrapper bg-background-primary font-sans text-copy-primary leading-normal flex flex-col min-h-screen"><header class="border-t-14 top-border"><nav class="container mx-auto flex flex-wrap justify-between items-center py-8"><div class="header"><a href="/" class="text-copy-primary hover:text-gray-600 active">JavaScript Jeep</a></div><div class="block lg:hidden"><button class="flex items-center px-3 py-2 border rounded border-gray-500 hover:text-gray-600 hover:border-gray-600"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="current-color h-3 w-3"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" fill="gray"></path></svg></button></div><ul class="uppercase tracking-wide font-bold w-full block flex-grow lg:space-x-8 space-y-6 lg:space-y-0 lg:flex lg:flex-initial lg:w-auto items-center mt-8 lg:mt-0 hidden"><li class="mb-6 lg:mb-0"><div class="relative" data-v-b519b1b2><div data-v-3a15c524 data-v-b519b1b2></div><div class="relative w-80" data-v-b519b1b2><input type="text" placeholder="Search (Press  "s" to focus)" value="" class="bg-background-form border border-gray-500 rounded-full px-4 pl-10 py-2 outline-none focus:border-green-500 w-80" data-v-b519b1b2><div class="absolute top-0 ml-3" style="top:10px" data-v-b519b1b2><svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="text-gray-500 h-5 w-5" data-v-b519b1b2><path d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" class="heroicon-ui" data-v-b519b1b2></path></svg></div><!----></div><!----></div></li><li><a href="#" class="text-copy-primary hover:text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></a></li></ul></nav></header><div class="flex-grow"><div class="container-inner mx-auto my-16"><h1 class="text-4xl font-bold leading-tight">Asynchronous Image Loading in JavaScript</h1><div class="text-xl text-gray-600 mb-4">June 20, 2020</div><div class="flex mb-8 text-sm"><a href="/tag/JavaScript/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        JavaScript
      </a><a href="/tag/performance/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        performance
      </a><a href="/tag/image/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        image
      </a></div><div class="markdown-body mb-8"><p>If you're are using more photos on your page then most of the time you may face a large loading time, more data loss. To reduce this time you need to load images asynchronously.</p>
<p>Most of the image-based sites like Unsplash , Pexels load only limited images , once you scroll down they load the remaining images. So that the page loads faster and the user doesn't feel the delay on page load</p>
<h2 id="lazy-loading"><a href="#lazy-loading" aria-hidden="true"><span class="icon icon-link"></span></a>Lazy Loading</h2>
<p>Lazy loading means loading the images only when needed . Consider you have an image that is below the visible viewport of the web page, then you need not to load the image. In that case we stop loading that image , and we render image only that image element is visible in the viewport.</p>
<h2 id="using-loading-attribute-of-image"><a href="#using-loading-attribute-of-image" aria-hidden="true"><span class="icon icon-link"></span></a>Using <code>loading</code> attribute of image</h2>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">myimg.jpg</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">loading</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">lazy</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">&gt;</span></code></pre>
<p>When you set <code>lazy</code> as value to <code>loading</code> attribute , then the off-screen images are not loaded until the user scrolls to the element.</p>
<h4 id="value-for-loading-attribute"><a href="#value-for-loading-attribute" aria-hidden="true"><span class="icon icon-link"></span></a>Value for <code>loading</code> attribute</h4>
<table>
<thead>
<tr>
<th>value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lazy</code></td>
<td>Will not load image until user scrolls near the element</td>
</tr>
<tr>
<td><code>eager</code></td>
<td>Load the resource immediately, regardless of where it's located on the page.</td>
</tr>
<tr>
<td><code>auto</code></td>
<td>Default lazy-loading behavior of the browser, which is the same as not including the attribute.</td>
</tr>
</tbody>
</table>
<h2 id="checking-if-the-browser-supports-loading-attribute"><a href="#checking-if-the-browser-supports-loading-attribute" aria-hidden="true"><span class="icon icon-link"></span></a>Checking if the Browser supports <code>loading</code> attribute</h2>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #89DDFF">if</span><span style="color: #FFFFFF"> (</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">loading</span><span style="color: #89DDFF">'</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">in</span><span style="color: #FFFFFF"> </span><span style="color: #FFCB6B">HTMLImageElement</span><span style="color: #89DDFF">.</span><span style="color: #FFFFFF">prototype) </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">  </span><span style="color: #FFCB6B">console</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">log</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">supported</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #89DDFF">}</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">else</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">  </span><span style="color: #FFCB6B">console</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">log</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">use Intersection observer or polyfill</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #89DDFF">}</span></code></pre>
<hr>
<h2 id="using-intersection-observer"><a href="#using-intersection-observer" aria-hidden="true"><span class="icon icon-link"></span></a>Using Intersection Observer</h2>
<p>Use this method only to the images which are not visible in the viewport on loading the page.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">data-src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">unicorn.jpg</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">…</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">loading</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lazy</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lazyload</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">&gt;</span>
<span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">data-src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">cats.jpg</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">…</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">loading</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lazy</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lazyload</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">&gt;</span>
<span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">data-src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">dogs.jpg</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">…</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">loading</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lazy</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lazyload</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">&gt;</span></code></pre>
<p>Here you will set the <code>src</code> of the image in other <code>data-src</code>.</p>
<ul>
<li>If the <code>loading</code> is available then <code>loading</code> attribute as <code>lazy</code> &#x26; set <code>src</code>.</li>
<li>If the <code>loading</code> is not supported then add <code>Intersection Observer</code> to it. The Intersection observer will set the <code>src</code> attribute once the user scrolls near the image</li>
</ul>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #C792EA">function</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">imageObserver</span><span style="color: #89DDFF">(</span><span style="color: #FF5370">entries</span><span style="color: #89DDFF">,</span><span style="color: #FFFFFF"> </span><span style="color: #FF5370">self</span><span style="color: #89DDFF">)</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">    </span><span style="color: #A6ACCD">entries</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">forEach</span><span style="color: #FFFFFF">(</span><span style="color: #FF5370">entry</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// loop all images</span>
<span style="color: #FFFFFF">        </span><span style="color: #89DDFF">if</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">entry</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">isIntersecting</span><span style="color: #FFFFFF">) </span><span style="color: #89DDFF">{</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// filtering visible image</span>
<span style="color: #FFFFFF">            </span><span style="color: #C792EA">let</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">img</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">entry</span><span style="color: #89DDFF">.</span><span style="color: #FFFFFF">target</span><span style="color: #89DDFF">;</span>
<span style="color: #FFFFFF">            </span><span style="color: #A6ACCD">img</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">src</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">img</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">dataset</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">src</span><span style="color: #89DDFF">;</span>
<span style="color: #FFFFFF">            </span><span style="color: #FF5370">this</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">unobserve</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">img</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// remove observer</span>
<span style="color: #FFFFFF">        </span><span style="color: #89DDFF">}</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #89DDFF">}</span>

<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">images</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelectorAll</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">img.lazyload</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #89DDFF">if</span><span style="color: #FFFFFF"> (</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">loading</span><span style="color: #89DDFF">'</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">in</span><span style="color: #FFFFFF"> </span><span style="color: #FFCB6B">HTMLImageElement</span><span style="color: #89DDFF">.</span><span style="color: #FFFFFF">prototype) </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">  </span><span style="color: #A6ACCD">images</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">forEach</span><span style="color: #FFFFFF">(</span><span style="color: #FF5370">img</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">      </span><span style="color: #A6ACCD">img</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">src</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">img</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">dataset</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">src</span><span style="color: #89DDFF">;</span>
<span style="color: #FFFFFF">  </span><span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #89DDFF">}</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">else</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">    </span><span style="color: #C792EA">let</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">observer</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">new</span><span style="color: #FFFFFF"> </span><span style="color: #FFCB6B">IntersectionObserver</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">imageObserver</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #FFFFFF">    </span><span style="color: #A6ACCD">images</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">forEach</span><span style="color: #FFFFFF">(</span><span style="color: #FF5370">img</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">        </span><span style="color: #A6ACCD">observer</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">observe</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">img</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #89DDFF">}</span></code></pre>
<hr>
<h2 id="other-workaround-is-using-a-small-resolution-image"><a href="#other-workaround-is-using-a-small-resolution-image" aria-hidden="true"><span class="icon icon-link"></span></a>Other workaround is using a small resolution image</h2>
<p>You can first load low-resolution image then load the high-resolution image asynchronously.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">unicorn-low.jpg</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">data-src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">unicorn.jpg</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF"> </span><span style="color: #FFCB6B">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lazyload</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">&gt;</span></code></pre>
<p>In JavaScript, we add an observer in that we will load the image and replace the low-resolution image</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #C792EA">function</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">imageObserver</span><span style="color: #89DDFF">(</span><span style="color: #FF5370">entries</span><span style="color: #89DDFF">,</span><span style="color: #FFFFFF"> </span><span style="color: #FF5370">self</span><span style="color: #89DDFF">)</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">    </span><span style="color: #A6ACCD">entries</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">forEach</span><span style="color: #FFFFFF">(</span><span style="color: #FF5370">entry</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// loop all images</span>
<span style="color: #FFFFFF">        </span><span style="color: #89DDFF">if</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">entry</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">isIntersecting</span><span style="color: #FFFFFF">) </span><span style="color: #89DDFF">{</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// filtering visible image</span>
<span style="color: #FFFFFF">            </span><span style="color: #C792EA">let</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">newImg</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">new</span><span style="color: #FFFFFF"> </span><span style="color: #FFCB6B">Image</span><span style="color: #FFFFFF">()</span><span style="color: #89DDFF">;</span>

<span style="color: #FFFFFF">            </span><span style="color: #C792EA">let</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">oldImg</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">entry</span><span style="color: #89DDFF">.</span><span style="color: #FFFFFF">target</span><span style="color: #89DDFF">;</span>
<span style="color: #FFFFFF">            </span><span style="color: #A6ACCD">newImg</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">onload</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">function</span><span style="color: #89DDFF">(){</span>
<span style="color: #FFFFFF">                </span><span style="color: #A6ACCD">oldImg</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">replaceWith</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">newImg</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// replace old image with new high resolution image</span>
<span style="color: #FFFFFF">            </span><span style="color: #89DDFF">};</span>
<span style="color: #FFFFFF">            </span><span style="color: #A6ACCD">newImg</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">src</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">oldImg</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">dataset</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">src</span><span style="color: #89DDFF">;</span>

<span style="color: #FFFFFF">            </span><span style="color: #FF5370">this</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">unobserve</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">oldImg</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// remove observer</span>
<span style="color: #FFFFFF">        </span><span style="color: #89DDFF">}</span>
<span style="color: #FFFFFF">    </span><span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #89DDFF">}</span>

<span style="color: #C792EA">let</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">observer</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">new</span><span style="color: #FFFFFF"> </span><span style="color: #FFCB6B">IntersectionObserver</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">imageObserver</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">images</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelectorAll</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">img.lazyload</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #A6ACCD">images</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">forEach</span><span style="color: #FFFFFF">(</span><span style="color: #FF5370">img</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">    </span><span style="color: #A6ACCD">observer</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">observe</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">img</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span><span style="color: #FFFFFF"> </span><span style="color: #676E95">// in observer fn the src will be replaced with high</span>
<span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span></code></pre>
<hr>
<h2 id="available-libraries-for-lazy-loading"><a href="#available-libraries-for-lazy-loading" aria-hidden="true"><span class="icon icon-link"></span></a>Available Libraries for lazy loading</h2>
<ul>
<li><a href="https://github.com/malchata/yall.js/" target="_blank" rel="nofollow noopener noreferrer">Yall.js</a></li>
<li><a href="https://github.com/ApoorvSaxena/lozad.js/" target="_blank" rel="nofollow noopener noreferrer">Lozad.js</a></li>
<li><a href="https://github.com/aFarkas/lazysizes" target="_blank" rel="nofollow noopener noreferrer">LazySize.js</a></li>
</ul>
<hr>
<p>Please donate <a href="https://www.paypal.me/jagathishSaravanan?locale.x=en_GB" target="_blank" rel="nofollow noopener noreferrer">here</a>, for making more tutorials.</p>
</div><div class="mb-8"><a href="/blog" class="font-bold uppercase">Back to Blog</a></div><a target="_blank" href="https://www.buymeacoffee.com/Jagathish" rel="noopener" class="mb-2"><img alt="Buy Me A Coffee" src="https://cdn.buymeacoffee.com/buttons/default-blue.png" class="g-image" style="height:51px !important;width:217px !important;margin-bottom:10px;"></a><div data-mooform-id="ab9b9a2f-2f57-48bb-8c0b-7dd0c0e5950b"></div></div></div><footer class="text-white"><div class="container mx-auto flex flex-col lg:flex-row items-center justify-between py-8"><div class="mb-8 lg:mb-0"><div>Created with ❤️ By JavaScript Jeep</div></div><ul class="flex items-center space-x-8"><li><a href="mailto:jagathish1123@gmail.com" class="text-white hover:text-gray-400"><svg width="25" height="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 0h20A2.5 2.5 0 0 1 25 2.5v15a2.5 2.5 0 0 1-2.5 2.5h-20A2.5 2.5 0 0 1 0 17.5v-15C0 1.125 1.125 0 2.5 0zm20 4.225V2.5h-20v1.725l10 5 10-5zm0 2.8l-9.438 4.713a1.25 1.25 0 0 1-1.124 0L2.5 7.025V17.5h20V7.025z" fill-rule="nonzero"></path></svg></a></li><li><a href="https://twitter.com/jagathish1123" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="17" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M19.807 1.943a8.588 8.588 0 0 1-2.036 2.135 11.918 11.918 0 0 1-.465 3.854 12.085 12.085 0 0 1-1.452 3.177 12.426 12.426 0 0 1-2.318 2.691c-.897.78-1.978 1.402-3.243 1.867-1.265.464-2.618.697-4.06.697-2.27 0-4.348-.618-6.233-1.854.293.034.62.051.98.051 1.885 0 3.565-.588 5.04-1.764a3.915 3.915 0 0 1-2.363-.825 4.038 4.038 0 0 1-1.432-2.039c.276.043.532.064.766.064.36 0 .717-.047 1.068-.14A3.982 3.982 0 0 1 1.73 8.43c-.617-.754-.925-1.63-.925-2.627v-.051c.57.324 1.182.498 1.835.524a4.1 4.1 0 0 1-1.32-1.47 4.078 4.078 0 0 1-.49-1.969c0-.75.185-1.445.553-2.084a11.548 11.548 0 0 0 3.702 3.05 11.163 11.163 0 0 0 4.669 1.271c-.067-.324-.1-.639-.1-.946 0-1.142.395-2.116 1.187-2.92C11.632.402 12.589 0 13.712 0c1.173 0 2.161.435 2.966 1.304a7.878 7.878 0 0 0 2.576-.997 3.997 3.997 0 0 1-1.785 2.275 7.98 7.98 0 0 0 2.338-.639z" fill-rule="nonzero"></path></svg></a></li></ul></div></footer><div style="display:none"><svg id="dots-triangle" width="170" height="170" xmlns="http://www.w3.org/2000/svg"><path d="M168.152 170a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 0a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 0a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zM94.24 133.043a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 36.956a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 55.434a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 73.913a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.478 92.391a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zM1.848 133.044a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.695zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696z" fill="#2C8056" fill-rule="evenodd" opacity=".503"></path></svg></div></div>
    <script src="/assets/js/app.ab955f53.js" defer></script><script src="/assets/js/page--src--templates--post-vue.a60ebd31.js" defer></script><script data-vue-tag="ssr" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-body="true" async data-id="Jagathish" data-description="Support me on Buy me a coffee!" data-color="#FF5F5F" data-position="left" data-x_margin="18" data-y_margin="18" data-name="BMC-Widget"></script>
  </body>
</html>
