<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Add new columns to table in PostgreSQL - JavaScript Jeep</title><meta name="gridsome:hash" content="bba87964da6ceca1acd685318e1bfdaa6a8192ea"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.14"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="keywords" content="JavaScript, programming, JavaScript Jeep, Coding, 100DaysOfCode, "><meta data-vue-tag="ssr" name="description" content="JavaScript Jeep for JavaScript Articles"><meta data-vue-tag="ssr" name="author" content="JavaScript Jeep"><meta data-vue-tag="ssr" name="monetization" content="$ilp.uphold.com/iyh9Aa6JGmkX"><meta data-vue-tag="ssr" data-key="description" name="description" content="Website for JavaScript Articles"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700"><link rel="preload" href="/assets/css/0.styles.efe1e658.css" as="style"><link rel="preload" href="/assets/js/app.bc5f1a23.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.a60ebd31.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.bd165bb9.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.393c1011.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.866313f5.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.a11002ec.js"><link rel="stylesheet" href="/assets/css/0.styles.efe1e658.css"><script data-vue-tag="ssr" type="text/javascript" src="/assets/js/service-worker.js" async></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="content-wrapper bg-background-primary font-sans text-copy-primary leading-normal flex flex-col min-h-screen"><header class="border-t-14 top-border"><nav class="container mx-auto flex flex-wrap justify-between items-center py-8"><div class="header"><a href="/" class="text-copy-primary hover:text-gray-600 active">JavaScript Jeep</a></div><div class="block lg:hidden"><button class="flex items-center px-3 py-2 border rounded border-gray-500 hover:text-gray-600 hover:border-gray-600"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="current-color h-3 w-3"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" fill="gray"></path></svg></button></div><ul class="uppercase tracking-wide font-bold w-full block flex-grow lg:space-x-8 space-y-6 lg:space-y-0 lg:flex lg:flex-initial lg:w-auto items-center mt-8 lg:mt-0 hidden"><li class="mb-6 lg:mb-0"><div class="relative" data-v-b519b1b2><div data-v-3a15c524 data-v-b519b1b2></div><div class="relative w-80" data-v-b519b1b2><input type="text" placeholder="Search (Press  "s" to focus)" value="" class="bg-background-form border border-gray-500 rounded-full px-4 pl-10 py-2 outline-none focus:border-green-500 w-80" data-v-b519b1b2><div class="absolute top-0 ml-3" style="top:10px" data-v-b519b1b2><svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="text-gray-500 h-5 w-5" data-v-b519b1b2><path d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" class="heroicon-ui" data-v-b519b1b2></path></svg></div><!----></div><!----></div></li><li><a href="#" class="text-copy-primary hover:text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></a></li></ul></nav></header><div class="flex-grow"><div class="container-inner mx-auto my-16"><h1 class="text-4xl font-bold leading-tight">Add new columns to table in PostgreSQL</h1><div class="text-xl text-gray-600 mb-4">May 29, 2020</div><div class="flex mb-8 text-sm"><a href="/tag/PostgreSQL/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        PostgreSQL
      </a><a href="/tag/database/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        database
      </a><a href="/tag/SQL/" class="bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300">
        SQL
      </a></div><div class="markdown-body mb-8"><h2 id="adding-columns"><a href="#adding-columns" aria-hidden="true"><span class="icon icon-link"></span></a>Adding columns</h2>
<p>We can combine <code>ALTER TABLE</code> &#x26; <code>ADD COLUMN</code> to add new columns to an existing table.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">ALTER</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">TABLE</span><span style="color: #FFFFFF"> table_name</span>
<span style="color: #FFFFFF">ADD COLUMN  column_name1 data_type,</span>
<span style="color: #FFFFFF">ADD COLUMN  column_name1 data_type,</span>
<span style="color: #FFFFFF">Constraints;</span></code></pre>
<p>Let's say we have a table <code>user</code>, with <code>name</code> and <code>age</code> , Now we need to add a new column <code>phone_number</code>.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">alter</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">table</span><span style="color: #FFFFFF"> user</span>
<span style="color: #FFFFFF">add column phone_number </span><span style="color: #C792EA">bigint</span><span style="color: #FFFFFF">;</span></code></pre>
<h2 id="adding-multiple-columns"><a href="#adding-multiple-columns" aria-hidden="true"><span class="icon icon-link"></span></a>Adding multiple columns</h2>
<p>Consider we need to add two more columns, <code>salary</code> and <code>nickname</code></p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">ALTER</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">TABLE</span><span style="color: #FFFFFF"> user</span>
<span style="color: #FFFFFF">ADD COLUMN salary </span><span style="color: #C792EA">int</span><span style="color: #FFFFFF">,</span>
<span style="color: #FFFFFF">ADD COLUMN nickname </span><span style="color: #C792EA">varchar</span><span style="color: #FFFFFF">;</span></code></pre>
<h2 id="add-column-if-not-present"><a href="#add-column-if-not-present" aria-hidden="true"><span class="icon icon-link"></span></a>Add Column if not present</h2>
<p>With Postgres 9.6 this can be done using the option if not exists</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">ALTER</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">TABLE</span><span style="color: #FFFFFF"> table_name</span>
<span style="color: #FFFFFF">ADD COLUMN IF NOT EXISTS column_name data_type;</span></code></pre>
<h2 id="adding-with-constraints"><a href="#adding-with-constraints" aria-hidden="true"><span class="icon icon-link"></span></a>Adding with constraints</h2>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">ALTER</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">TABLE</span><span style="color: #FFFFFF"> table_name</span>
<span style="color: #FFFFFF">ADD COLUMN column_name datatype</span>
<span style="color: #FFFFFF">constraints;</span></code></pre>
<p>Let's say we need to add a default value to a column.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">Alter</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">table</span><span style="color: #FFFFFF"> user</span>
<span style="color: #FFFFFF">add column isAlive </span><span style="color: #C792EA">boolean</span><span style="color: #FFFFFF"> default true;</span></code></pre>
<p>To add a not null constraint you need to set <code>default value</code> because, When you add new column PostgreSQL takes the <code>NULL</code> as column value for the existing row, which violates the <code>NOT NULL</code> constraint.</p>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">Alter</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">table</span><span style="color: #FFFFFF"> user</span>
<span style="color: #FFFFFF">add column isAlive </span><span style="color: #C792EA">boolean</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">not null</span><span style="color: #FFFFFF"> default true;</span></code></pre>
<p>If you don't want the default value</p>
<ul>
<li>Add a column with the default value constraint </li>
</ul>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">Alter</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">table</span><span style="color: #FFFFFF"> user</span>
<span style="color: #FFFFFF">add column isAlive </span><span style="color: #C792EA">boolean</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">not null</span><span style="color: #FFFFFF"> default true;</span>
<span style="color: #FFFFFF">Then remove the default value </span><span style="color: #C792EA">constraint</span></code></pre>
<ul>
<li>Then remove the default value constraint</li>
</ul>
<pre class="shiki" style="background-color: #292D3E"><code><span style="color: #F78C6C">ALTER</span><span style="color: #FFFFFF"> </span><span style="color: #F78C6C">TABLE</span><span style="color: #FFFFFF"> user</span>
<span style="color: #FFFFFF">ALTER COLUMN isAlive</span>
<span style="color: #FFFFFF">DROP DEFAULT;</span><span style="color: #89DDFF">```</span></code></pre>
</div><div class="mb-8"><a href="/blog" class="font-bold uppercase">Back to Blog</a></div><a target="_blank" href="https://www.buymeacoffee.com/Jagathish" rel="noopener" class="mb-2"><img alt="Buy Me A Coffee" src="https://cdn.buymeacoffee.com/buttons/default-blue.png" class="g-image" style="height:51px !important;width:217px !important;margin-bottom:10px;"></a><div data-mooform-id="ab9b9a2f-2f57-48bb-8c0b-7dd0c0e5950b"></div></div></div><footer class="text-white"><div class="container mx-auto flex flex-col lg:flex-row items-center justify-between py-8"><div class="mb-8 lg:mb-0"><div>Created with ❤️ By JavaScript Jeep</div></div><ul class="flex items-center space-x-8"><li><a href="mailto:jagathish1123@gmail.com" class="text-white hover:text-gray-400"><svg width="25" height="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 0h20A2.5 2.5 0 0 1 25 2.5v15a2.5 2.5 0 0 1-2.5 2.5h-20A2.5 2.5 0 0 1 0 17.5v-15C0 1.125 1.125 0 2.5 0zm20 4.225V2.5h-20v1.725l10 5 10-5zm0 2.8l-9.438 4.713a1.25 1.25 0 0 1-1.124 0L2.5 7.025V17.5h20V7.025z" fill-rule="nonzero"></path></svg></a></li><li><a href="https://twitter.com/jagathish1123" target="_blank" class="text-white hover:text-gray-400"><svg width="20" height="17" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M19.807 1.943a8.588 8.588 0 0 1-2.036 2.135 11.918 11.918 0 0 1-.465 3.854 12.085 12.085 0 0 1-1.452 3.177 12.426 12.426 0 0 1-2.318 2.691c-.897.78-1.978 1.402-3.243 1.867-1.265.464-2.618.697-4.06.697-2.27 0-4.348-.618-6.233-1.854.293.034.62.051.98.051 1.885 0 3.565-.588 5.04-1.764a3.915 3.915 0 0 1-2.363-.825 4.038 4.038 0 0 1-1.432-2.039c.276.043.532.064.766.064.36 0 .717-.047 1.068-.14A3.982 3.982 0 0 1 1.73 8.43c-.617-.754-.925-1.63-.925-2.627v-.051c.57.324 1.182.498 1.835.524a4.1 4.1 0 0 1-1.32-1.47 4.078 4.078 0 0 1-.49-1.969c0-.75.185-1.445.553-2.084a11.548 11.548 0 0 0 3.702 3.05 11.163 11.163 0 0 0 4.669 1.271c-.067-.324-.1-.639-.1-.946 0-1.142.395-2.116 1.187-2.92C11.632.402 12.589 0 13.712 0c1.173 0 2.161.435 2.966 1.304a7.878 7.878 0 0 0 2.576-.997 3.997 3.997 0 0 1-1.785 2.275 7.98 7.98 0 0 0 2.338-.639z" fill-rule="nonzero"></path></svg></a></li></ul></div></footer><div style="display:none"><svg id="dots-triangle" width="170" height="170" xmlns="http://www.w3.org/2000/svg"><path d="M168.152 170a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 0a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 0a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zM94.24 133.043a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 36.956a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm-18.478 55.434a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.479 73.913a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm-18.478 92.391a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0 18.479a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zM1.848 133.044a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.695zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0 18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-55.435a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.479a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.695 1.848 1.848 0 0 1 0 3.695zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696zm0-18.478a1.848 1.848 0 1 1 0-3.696 1.848 1.848 0 0 1 0 3.696z" fill="#2C8056" fill-rule="evenodd" opacity=".503"></path></svg></div></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Add new columns to table in PostgreSQL","date":"May 29, 2020","content":"\u003Ch2 id=\"adding-columns\"\u003E\u003Ca href=\"#adding-columns\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAdding columns\u003C\u002Fh2\u003E\n\u003Cp\u003EWe can combine \u003Ccode\u003EALTER TABLE\u003C\u002Fcode\u003E &#x26; \u003Ccode\u003EADD COLUMN\u003C\u002Fcode\u003E to add new columns to an existing table.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EALTER\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003ETABLE\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E table_name\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EADD COLUMN  column_name1 data_type,\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EADD COLUMN  column_name1 data_type,\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EConstraints;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ELet's say we have a table \u003Ccode\u003Euser\u003C\u002Fcode\u003E, with \u003Ccode\u003Ename\u003C\u002Fcode\u003E and \u003Ccode\u003Eage\u003C\u002Fcode\u003E , Now we need to add a new column \u003Ccode\u003Ephone_number\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003Ealter\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003Etable\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E user\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003Eadd column phone_number \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA\"\u003Ebigint\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"adding-multiple-columns\"\u003E\u003Ca href=\"#adding-multiple-columns\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAdding multiple columns\u003C\u002Fh2\u003E\n\u003Cp\u003EConsider we need to add two more columns, \u003Ccode\u003Esalary\u003C\u002Fcode\u003E and \u003Ccode\u003Enickname\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EALTER\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003ETABLE\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E user\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EADD COLUMN salary \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA\"\u003Eint\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EADD COLUMN nickname \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA\"\u003Evarchar\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"add-column-if-not-present\"\u003E\u003Ca href=\"#add-column-if-not-present\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAdd Column if not present\u003C\u002Fh2\u003E\n\u003Cp\u003EWith Postgres 9.6 this can be done using the option if not exists\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EALTER\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003ETABLE\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E table_name\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EADD COLUMN IF NOT EXISTS column_name data_type;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"adding-with-constraints\"\u003E\u003Ca href=\"#adding-with-constraints\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAdding with constraints\u003C\u002Fh2\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EALTER\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003ETABLE\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E table_name\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EADD COLUMN column_name datatype\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003Econstraints;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ELet's say we need to add a default value to a column.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EAlter\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003Etable\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E user\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003Eadd column isAlive \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA\"\u003Eboolean\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E default true;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ETo add a not null constraint you need to set \u003Ccode\u003Edefault value\u003C\u002Fcode\u003E because, When you add new column PostgreSQL takes the \u003Ccode\u003ENULL\u003C\u002Fcode\u003E as column value for the existing row, which violates the \u003Ccode\u003ENOT NULL\u003C\u002Fcode\u003E constraint.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EAlter\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003Etable\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E user\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003Eadd column isAlive \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA\"\u003Eboolean\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003Enot null\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E default true;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf you don't want the default value\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAdd a column with the default value constraint \u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EAlter\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003Etable\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E user\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003Eadd column isAlive \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA\"\u003Eboolean\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003Enot null\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E default true;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EThen remove the default value \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA\"\u003Econstraint\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EThen remove the default value constraint\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #292D3E\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #F78C6C\"\u003EALTER\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F78C6C\"\u003ETABLE\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFFFFF\"\u003E user\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EALTER COLUMN isAlive\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #FFFFFF\"\u003EDROP DEFAULT;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #89DDFF\"\u003E```\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n","tags":[{"title":"PostgreSQL","path":"\u002Ftag\u002FPostgreSQL\u002F"},{"title":"database","path":"\u002Ftag\u002Fdatabase\u002F"},{"title":"SQL","path":"\u002Ftag\u002FSQL\u002F"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.bc5f1a23.js" defer></script><script src="/assets/js/page--src--templates--post-vue.a60ebd31.js" defer></script><script data-vue-tag="ssr" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-body="true" async data-id="Jagathish" data-description="Support me on Buy me a coffee!" data-color="#FF5F5F" data-position="left" data-x_margin="18" data-y_margin="18" data-name="BMC-Widget"></script>
  </body>
</html>
