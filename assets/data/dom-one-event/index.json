{"hash":"590aecd25315f57ebc1243f3c47e29d3b136ace5","data":{"post":{"title":"One-Time Event Listener in JavaScript","date":"June 20, 2020","content":"<p>Consider you have a button</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">type</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">button</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">id</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">btn</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #FFFFFF\">One time</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">button</span><span style=\"color: #89DDFF\">&gt;</span></code></pre>\n<p>In some-case, you need an event handler to be executed only once . You can do that by 2 Ways</p>\n<h2 id=\"1-passing-once-option-to-addeventlistener-method\"><a href=\"#1-passing-once-option-to-addeventlistener-method\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Passing <code>once</code> option to <code>addEventListener</code> method</h2>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">button</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getElementById</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">btn</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">test</span><span style=\"color: #89DDFF\">(){</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #FFCB6B\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">You can't see me again</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span>\n<span style=\"color: #A6ACCD\">button</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">addEventListener</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">click</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">test</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\">once </span><span style=\"color: #89DDFF\">:</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #F78C6C\">true</span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<p>When you set <code>once:true</code> the listener would be automatically removed when invoked.</p>\n<hr>\n<h2 id=\"2using-removeeventlistener\"><a href=\"#2using-removeeventlistener\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2.Using <code>removeEventListener</code></h2>\n<p>Another way is to manually remove the eventListener once the event is captured for the first time.\nYou can use <code>removeEventListener</code> method to remove an event on the element;</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">automaticEventRemover</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">ev</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #FFCB6B\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">You can't see me again</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #A6ACCD\">e</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">target</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">removeEventListener</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">ev</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">type</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FF5370\">arguments</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">callee)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span>\n\n<span style=\"color: #A6ACCD\">button</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">addEventListener</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">click</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">automaticEventRemover</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<ul>\n<li><strong><code>ev.type</code></strong> denotes the type of the event, In our case the value will be <code>click</code>.</li>\n<li><strong><code>arguments.callee</code></strong> is the reference of currently executing function</li>\n</ul>\n<h3 id=\"create-a-function-that-will-add-one-time-event\"><a href=\"#create-a-function-that-will-add-one-time-event\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Create a function that will add one time event</h3>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">one</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">el</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FF5370\">eventType</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FF5370\">eventHandler</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #A6ACCD\">el</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">addEventListener</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">eventType</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">eventHandler</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\">once</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">true</span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span>\n\n<span style=\"color: #82AAFF\">one</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">button</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">click</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">()</span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFCB6B\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">test</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\"> )</span></code></pre>\n<hr>\n<h3 id=\"using-jquery\"><a href=\"#using-jquery\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Using jQuery</h3>\n<p>If you're using <code>jQuery</code>, then you can use <code>one</code> method</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">button</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">$</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">#btn</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #A6ACCD\">button</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">one</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">click</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">()</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #FFCB6B\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">You can't see me again</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<hr>\n<p>Please donate <a href=\"https://www.paypal.me/jagathishSaravanan?locale.x=en_GB\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>, for making more tutorials.</p>\n","tags":[{"title":"JavaScript","path":"/tag/JavaScript/"},{"title":"Events","path":"/tag/Events/"}]}},"context":{}}