{"hash":"bc5618c1411edeec28276d2dcf84bc9e6541d806","data":{"post":{"title":"Remove all Children of an DOM Node in JavaScript","date":"June 26, 2020","content":"<h2 id=\"using-innerhtml\"><a href=\"#using-innerhtml\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Using innerHTML</h2>\n<p>To remove an all children of a DOM Node , you can set <code>innerHTML</code> as an empty string,</p>\n<p>Consider the Node as</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">id</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">parent</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #FFFFFF\">  </span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #FFFFFF\">hi</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">p</span><span style=\"color: #89DDFF\">&gt;</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">span</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #FFFFFF\">hello</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">span</span><span style=\"color: #89DDFF\">&gt;</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #FFFFFF\">Everyone</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span>\n<span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></code></pre>\n<p>To remove the elements of <code>parent</code></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFFFFF\">document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getElementById</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">parent</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">innerHTML</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"\"</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<p>This will remove all the child elements.</p>\n<blockquote>\n<p> Setting <code>innerHTML</code> doesnâ€™t remove the event handlers of the child nodes, resulting in a memory leak.</p>\n</blockquote>\n<h2 id=\"using-textcontent\"><a href=\"#using-textcontent\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Using textContent</h2>\n<p>You can set <code>textContent</code> as an empty string, to remove the elements of <code>parent</code></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFFFFF\">document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getElementById</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">parent</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">textContent</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"\"</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<p>This will remove all the child elements.</p>\n<blockquote>\n<p>Setting <code>innerText</code> as empty string also removes the child elements</p>\n</blockquote>\n<h2 id=\"removing-the-last-element-until-the-parent-is-empty\"><a href=\"#removing-the-last-element-until-the-parent-is-empty\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Removing the Last Element until the parent is empty</h2>\n<p>To remove all child of DOM Node:</p>\n<ul>\n<li>\n<p>Check if the parent has childElements using <code>firstChild</code></p>\n<ul>\n<li>If the parent has child element then remove the last element</li>\n<li>repeat the first steps until there is no remaining child Element</li>\n</ul>\n</li>\n</ul>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFFFFF\">    </span><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">removeAllChild</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">id</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #C792EA\">const</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">myNode</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getElementById</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">id</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">while</span><span style=\"color: #FFFFFF\"> (</span><span style=\"color: #A6ACCD\">myNode</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">firstChild) </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #A6ACCD\">myNode</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">removeChild</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">myNode</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">lastChild)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">}</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">}</span></code></pre>\n<p>You checked if a node has <code>firstChild</code> but removed the <code>lastChild</code> because it is faster to read the first element and faster to delete the last element.</p>\n<h2 id=\"adding-removeallchild-method-to-element\"><a href=\"#adding-removeallchild-method-to-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Adding removeAllChild method to Element</h2>\n<p>You can add a <code>removeAllChild</code> method to <code>Element prototype</code> using <code>defineProperty</code>.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\">( </span><span style=\"color: #C792EA\">typeof</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Element</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">prototype</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">clearChildren</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">===</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">undefined</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\"> ) </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #FFCB6B\">Object</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">defineProperty</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FFCB6B\">Element</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">prototype</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">removeAllChild</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">      configurable</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #F78C6C\">true</span><span style=\"color: #89DDFF\">,</span>\n<span style=\"color: #FFFFFF\">      enumerable</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #F78C6C\">false</span><span style=\"color: #89DDFF\">,</span>\n<span style=\"color: #FFFFFF\">      </span><span style=\"color: #82AAFF\">value</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">function</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">while</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FF5370\">this</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">firstChild)</span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #FF5370\">this</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">removeChild</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FF5370\">this</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">lastChild)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">}</span>\n<span style=\"color: #FFFFFF\">      </span><span style=\"color: #89DDFF\">}</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span></code></pre>\n<h2 id=\"replacing-parent-node-by-cloning\"><a href=\"#replacing-parent-node-by-cloning\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Replacing parent node by cloning</h2>\n<p>You can clone the parent node without child elements, then we can replace the parent element with the cloned element\n<em> clone the element to be emptied\n</em> Replace the element using <code>parentNode.replaceChild(newNodeToReplace, oldNodeToBeReplaced)</code></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">parent</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getElementById</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">parent</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span>\n<span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">clone</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">parent</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">cloneNode</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #F78C6C\">false</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">grandParent</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">parent</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">parentNode</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #A6ACCD\">grandParent</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">replaceChild</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">clone</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">parent</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<p>If you're using jQuery , then you can simply call</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #82AAFF\">$</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">#parent</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">empty</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<p>To compare the performance you can check <a href=\"https://jsperf.com/innerhtml-vs-removechild/300\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a></p>\n","tags":[{"title":"JavaScript","path":"/tag/JavaScript/"},{"title":"DOM","path":"/tag/DOM/"},{"title":"jstips","path":"/tag/jstips/"}]}},"context":{}}