{"hash":"2736af772067c8496bc3bd4753210b01f820adcb","data":{"post":{"title":"Creating Browser Notification in JavaScript","date":"May 29, 2020","content":"<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1520 782' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-8228ff4dbb3a32761502546070ddc74d'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-8228ff4dbb3a32761502546070ddc74d)' width='1520' height='782' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAhCAYAAABpwa0hAAAACXBIWXMAAAsSAAALEgHS3X78AAAJZUlEQVRo3t1Zy47b2BH1b2TlbkkkJVF8i%2bJDIvWgXt0t9cOyJx7HmEkyAyRIZhVggkmAbBMnq6wSOLsA%2bYEs8gX5sMqp4qVa3S2323Z3A/GicN/kvcVTVacunxR/%2bC/F3/ydwm/eUvTztxT%2b7C2lkAT15NvPU9Jv/4Hz/Y1G3/%2bHnoQ/%2bQu1agal7YB8y6aeY1PDd0jvQBoQHaJ9XmIYHjUONHKXv6Inzss3NLEC%2blexou%2b/7tJfv/PpR7/vU3sTU7MeUbMDaX9m0kmgCJvco%2b%2bAgFdvyEDDMmMyOz3qdEIyrB41TUgL0v5AMe9xnvkR77/Tu2Og2wICfl0qgLWhQzMGDqzzoZtQQgvCk1He9jCZp%2bYYRogHd6FQiL4j3OZ5%2buWYXg9kvrRZuG7szOFn8ZxmuH3P/Skgwj47VxXAndtDVRNbVw96mxK4tOZDspYjsk/GIuZgQJ0il752NyF7NS7biyHZp6iPMnIuCmlL/2xIZj4g%2b3hEnWFG9npM7TARZex7376%2b3bF37vl9CrgzHM2dfpS8aWuay2E6k5zacSqH5HbTjjAGBY1zOSQfmg/H8zpom3EfgvnjTMRM%2bmRDcS0v3qLwY1FwY90%2bBegKygy5G7BEfQvtHThz37Z/F77azT4%2bhNYIqN7wt2t3TaBW86kOyPMcHe0GytpTnzTU6xDN6MrmtWZX5Ip5qWc1WgE1mljfwvNRNuDtNcO/qYRdBXS//BO1MCnurQTyDF3nvBD4CRy5fTYBZCcltNHPX4W/qnM%2bIecZ5h6N5Ms3nah80R608KYCJ6NJd0EtbMBQqNGw8WSQ0eufrmhxUtBoOqLZckKjYkTHp1OaHU2kXcyxH6BoFhxR5I3InGWCEPfFVPZnRimNvBlNgjn5zoiS3inlyYay5BkUFtyCgC8RBRDrPW%2bKjcUlbAFlPjxDlNtm2i%2bhyf3ZQDZu9vsCY7Z7tnW28aYVvdN8GGFOJ6UIm7tusy2M88HjfkZ%2bmJLXxbx0QGmeUy9BmZX9rLTIxaEdvG/QL/fFJsbmhjWhPZRxq9MnB2UYLKjrz0X57zEBi7RWCW32vPqBXwp7YQVx/WnZFug21bxDSK0st57/OvzZm4sJ9ASeTw33hsPi8vCpMgGsYWmgXsez2RS41ATmqIPINJig1VzshfcEMznkOsiN7lEdogPRPKeuudK%2b4SD3m8BaBtwvpuKtGe6WgjY7JP%2brRemp2dMrRydefaK8POawOYiHX4%2b3X0bm4VmG3aOuldG0u6TW7uGhzJYbkf96LpBmpNkcFbCeo4GN90kbKLPTJfmzDfnz5%2bQW5%2bRNL6i7foXyvOwbn5KTn4j4yy8oHa%2boP5iTaSW3%2bYA31NRdCgAVNgGGONs0C2%2beod5yYzkYQ45Not1LygNCKhi2/FjmVmYiITBXJRTB5Mo295sAm4iEQKxr91IxPa5XzzeHiBox9hXC5wxX5EEJTr4iK5mjf0Z2fylipYuyRJ87OiU/KihO4CO8DE6x%2b74ooLw7w53hz5BnL18r4S3moAhM5f31g%2bDSG3P00MPLtrHTViagt0Mxg30mIKalXyNE%2bq4p4X0wAV3HvjRPSjYJo%2bpjMXb6eA5KjevNW00ACEC4GCQXgGYEGE%2bEnAgCAHXrOTzscihfiEXIy7okNPYZoA3PzzbLL9GU6Eq4bkjoUm0jvGmP98nw7soF9kUBv4oCyWUUsMI%2bxdMZdQfjEt5sn8o07DQjbwxTgfcP4IEdDyU8tY%2b6GyTkBal47jbyi6DXlz4et5zkHRvs3T/l/RAqvCVCemkGmhaQ1U7oIrygwkbsht1b7ATZsR0NyXUHFDQH5EIBZ8/mIi9eHtH5ZkGDYU4npzOaI4ZziOP%2b55Al4nwQjoGYEIQoUKgoic6VnOKhlbCfCsdXvwjs1ULauOidUOZOxREJKVpPyIDXZofmw6v34KSYqKRZTtloKDE8RgxnBTB5YSLD8X04HtLRakrTxYQWxwWtzmaCCCY8Z5s51kC5drq1132KuDfF7FVAO7rG3EKyQVzW8SmN3Dm1YQIc9tg/NMOYHCiga%2beAd0r56JK9WYgY1YEzSD5RSkEfjzOpGU5GQEch/SlYYD7C4V2YiZ9fUcD1PT26AhgBx9GaciCg6UYS/zk2bxVgod2NKJ/llCBsOXYsBIadYl0RmDpHFCY2qNcOFbfHnJri/Q2NyQ3q8Npawy29ebOrPDlIk%2bL%2bVRi7FyV8CALO4nMq/IVQTyFIEI7pLuimb2dUBEu6iC8odEFYXiHmYlwUtSgJk4t8gf2GdYKvvzoiD2ix5uW4A5Nqw0cMizVFZ6/JP35JfnFBdo/j/Zq8xQvKF89oPFmRDZ9zJZY/hg/gpGXgF%2bDYObUUOWFiwqyuYyK/t1LqgXOPkIB4FsbGJfFhMtOCc6yIEbd5rTdABOmCTEUlmbIAf9vpwxTgVIcnZGfH5LJ0MS8CIx1AYdGEoqRAlHlgBVS5QEloLm9uOH1t6IrzV7kA83uO/Zy2YqzW8MSbb/OBPbc7QqL0QAhNNa4r/qAzyRFy4ylCo0xA94TIlGTmgUygzAU8ytKNfHHh8nyrA1uv6vwV/a8X2xsfKSEOUmS%2b5GDY81eV6yvzkcjMvSGgIkL%2bTIiQQJf5N/NyTo0R%2b/lwknIydJncwHsz1Bni3Md1viMwmuFHHYZJ0JXDVfeRd73iuh8ipExgl4dXeUFD5QAac39Asu6SxumoIkxVLvBoTO7BnaBZpqmMAElJT0GF4chsZF%2bShsI7h4sNZcMjSgaXFw7/F4e/axiUPN0r0%2bM2p7xBH7kBkqBeId7ZgTJ8eO8oLnayrE%2b80zcf0O4/RAG7lxW76a6%2bTT9Lb82enz20zK0uOqsoUaW3Ol9WlkTmxuVq85q5VbdPTHzUO67/e3iU/wK72dmdHBoOwheT7qYQqiwp86ZMqduTAU29JcUgN51Tji5jcp%2bri0x16SoUmy9YN4j9SLRsoCw4/rHc%2bBj3Ffvf/Wfoz9C0i87kk/63mQnf/AwRMkGaAv4fkEtfE1Gi74L3u4gifDuEcRYTOUELKbTU%2b0ygMllvYV3HR9lfggzNHuHf4Ms/knaoA7bux/8J5nU1i7QDi/RDSB3EistaWa/zpWujHJP%2bShp2OUcJr%2bdxnqvVTEQb80H%2bTvPfYe1AI2f%2bC3qS/ebf5J3/AM7%2bOyU/fKRg7YWS850S4im53u9eee/1sU/dz3v2evpbSn/5T/ofveQ9bPDIRewAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"1520\" data-srcset=\"/assets/static/notification.82a2fbd.4f4a37d304012e577f59fe2e52dcdaba.png 480w, /assets/static/notification.cbab2cf.4f4a37d304012e577f59fe2e52dcdaba.png 1024w, /assets/static/notification.d28837d.4f4a37d304012e577f59fe2e52dcdaba.png 1520w\" data-sizes=\"(max-width: 1520px) 100vw, 1520px\" data-src=\"/assets/static/notification.d28837d.4f4a37d304012e577f59fe2e52dcdaba.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/notification.d28837d.4f4a37d304012e577f59fe2e52dcdaba.png\" width=\"1520\"></noscript></p>\n<p>Using Notification API you can display a notification on your website.</p>\n<p>Three simple steps to show system notification</p>\n<ul>\n<li>Check if the browser supports Notification</li>\n<li>Ask the user for permission to show the notification.</li>\n<li>Once user grant permission, create a Notification object</li>\n<li>Show the notification with your custom message</li>\n</ul>\n<h2 id=\"check-browser-support\"><a href=\"#check-browser-support\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Check Browser support</h2>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">typeof</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">!==</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">undefined</span><span style=\"color: #89DDFF\">\"</span></code></pre>\n<h2 id=\"ask-user-permission\"><a href=\"#ask-user-permission\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ask user Permission</h2>\n<p>Before asking permission, let’s check if the permission is already granted. To get the notification permission, you can use</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">permission</span></code></pre>\n<p>It can have <code>3</code> values</p>\n<p><code>denied</code> → Permission granted</p>\n<p><code>granted</code> → Permission granted</p>\n<p><code>default</code> →The user choice is unknown and therefore the browser will act as if the value were denied.</p>\n<p>Consider that the Notification.permission is default . Now you need to ask permission from the user to show a notification.</p>\n<p>The requestPermission method in Notification is used to raise a request to user. This will return a promise , which resolves to one of three permission</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">requestPermission</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">then</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">permission</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #FFCB6B\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">permission</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<h2 id=\"displaying-notification\"><a href=\"#displaying-notification\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Displaying Notification</h2>\n<p>To display a notification, we need two things</p>\n<ul>\n<li>Title → Title to display within the notification</li>\n<li>Message → Body text of the notification, which is displayed below the title.</li>\n</ul>\n<p>Optionally we can include</p>\n<ul>\n<li>icon → URL of an icon to be displayed in the notification.</li>\n</ul>\n<p>The above options are the most commonly used, you can see the full list <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Notification/Notification\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">title</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">JavaScript Jeep</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #A6ACCD\">icon</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">[https://homepages.cae.wisc.edu/~ece533/images/airplane.png](https://homepages.cae.wisc.edu/~ece533/images/airplane.png)</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">body</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">It's Your boarding time</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">notification</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">new</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">title</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">body</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">icon</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<p>Display the notification only if the user is not in the current tab. To check if the current tab you can user document.visibilityState .</p>\n<p>If the visiblityState != visible then show the notification</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">showNotification</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">visibilityState</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">!==</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">visible</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">showNotification</span><span style=\"color: #FFFFFF\">) </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #89DDFF\">   </span><span style=\"color: #676E95\">// Notification code</span>\n<span style=\"color: #89DDFF\">}</span></code></pre>\n<p>Closing the Notification</p>\n<p>If the user comes back to the browser tab which triggers the notification, you need to close the notification using close</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">notification</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">new</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">Travel</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #A6ACCD\">notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">close</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<h2 id=\"events-on-notification\"><a href=\"#events-on-notification\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Events on Notification</h2>\n<p><code>click</code> → user clicks on the notification.</p>\n<p><code>close</code> → Notification is closed.</p>\n<p><code>error</code> → The notification couldn't be displayed for some reason.</p>\n<p><code>show</code> → Notification is displayed to the user.</p>\n<h2 id=\"focus-tab-on-clicking-the-notification\"><a href=\"#focus-tab-on-clicking-the-notification\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Focus Tab on clicking the notification.</h2>\n<p>You can change the current tab to the tab which displays notification by using window.parent.focus()</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">notification</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">new</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">Travel</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #A6ACCD\">notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">onclick</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">function</span><span style=\"color: #89DDFF\">(){</span>\n<span style=\"color: #FFFFFF\">                         window</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">parent</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">focus</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">                         </span><span style=\"color: #A6ACCD\">notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">close</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">                        </span><span style=\"color: #89DDFF\">}</span></code></pre>\n<h2 id=\"putting-it-all-together\"><a href=\"#putting-it-all-together\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Putting it all together</h2>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">permission</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">permission</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">permission</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">===</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">granted</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">{</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #82AAFF\">showNotification</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">else</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">permission</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">===</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">default</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">{</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #82AAFF\">requestAndShowPermission</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">else</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #82AAFF\">alert</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">Use normal alert</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #89DDFF\">}</span></code></pre>\n<p>Request Notification from user</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">requestAndShowPermission</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">requestPermission</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">permission</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\"> (</span><span style=\"color: #A6ACCD\">permission</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">===</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">granted</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">) </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #82AAFF\">showNotification</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">}</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span></code></pre>\n<p>And finally Show Notification</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">showNotification</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\">(document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">visibilityState</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">===</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">visible) </span><span style=\"color: #FF5370\">{</span>\n<span style=\"color: #FFFFFF\">       </span><span style=\"color: #A6ACCD\">return</span><span style=\"color: #FFFFFF\">;</span>\n<span style=\"color: #FFFFFF\">   }</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #A6ACCD\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">title</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">JavaScript Jeep</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">;</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #A6ACCD\">icon</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">image-url</span><span style=\"color: #89DDFF\">\"</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #A6ACCD\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">body</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">Message to be displayed</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">;</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #A6ACCD\">var</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">notification</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">new</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Notification</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">Title</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">body</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">icon</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">);</span>\n\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #A6ACCD\">notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">onclick</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">()</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">          </span><span style=\"color: #A6ACCD\">notification</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">close</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">          window</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">parent</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">focus</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">   </span><span style=\"color: #89DDFF\">}</span>\n\n<span style=\"color: #FFFFFF\">}</span></code></pre>\n<p>Project Idea.</p>\n<ul>\n<li>To do list → Show to-do list notification</li>\n<li>Pomodoro clock → Show time up notification.</li>\n</ul>\n","tags":[{"title":"JavaScript","path":"/tag/JavaScript/"},{"title":"jstips","path":"/tag/jstips/"},{"title":"HTML5","path":"/tag/HTML5/"}]}},"context":{}}