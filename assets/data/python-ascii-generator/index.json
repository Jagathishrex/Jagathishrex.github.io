{"hash":"dd06aaebb0aca2af6e33d7996ce8beaefab4b621","data":{"post":{"title":"Generate ASCII art from the image","date":"June 6, 2020","content":"<p>Steps to convert image to ASCII character</p>\n<ul>\n<li>Load an image</li>\n<li>Resize Image</li>\n<li>Convert image to GreyScale</li>\n<li>Convert GreyScale data of each pixel into respective ASCII character</li>\n</ul>\n<h2 id=\"loading-an-image-using-pil-image-library\"><a href=\"#loading-an-image-using-pil-image-library\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Loading an Image using PIL image Library</h2>\n<p>To load the image we will be using <code>PIL</code> library.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">import</span><span style=\"color: #FFFFFF\"> PIL.Image</span>\n\n<span style=\"color: #C792EA\">def</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">():</span>\n<span style=\"color: #FFFFFF\">    path </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">input</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">Enter the path to the image fiel : </span><span style=\"color: #89DDFF\">\\n\"</span><span style=\"color: #89DDFF\">)</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">try</span><span style=\"color: #FFFFFF\">:</span>\n<span style=\"color: #FFFFFF\">        image </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> PIL.Image.</span><span style=\"color: #82AAFF\">open</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">path</span><span style=\"color: #89DDFF\">)</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">except</span><span style=\"color: #FFFFFF\">:</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">path</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">Unable to find image </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #C792EA\">;</span></code></pre>\n<p>The above code read the image from the path given by the user. If the image doesn't exist on the given path then, we will show an error message.</p>\n<h2 id=\"define-ascii-list\"><a href=\"#define-ascii-list\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Define ASCII list</h2>\n<p>Let's create a list of ASCII characters,</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFFFFF\">ASCII_CHARS </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">@</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">#</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">$</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">%</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">?</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">*</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">+</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">;</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">:</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">,</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">, </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">.</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">]</span></code></pre>\n<p>The ASCII characters are arranged from the darkest to the lightest. This means the darkest pixel will be replaced with <code>@</code> and lightest with <code>.</code></p>\n<h2 id=\"resize-image\"><a href=\"#resize-image\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Resize Image</h2>\n<p>We need to convert the image to some small width and height, so that it don't result in large size  text. To find the <code>new_height</code>, multiply <code>new_width</code> with <code>old_height</code> then divide by <code>old_width</code>.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">def</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">resize</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">image</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FF5370\">new_width</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #F78C6C\">100</span><span style=\"color: #89DDFF\">):</span>\n<span style=\"color: #FFFFFF\">    width, height </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> image.size</span>\n<span style=\"color: #FFFFFF\">    new_height </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> new_width </span><span style=\"color: #C792EA\">*</span><span style=\"color: #FFFFFF\"> height </span><span style=\"color: #C792EA\">/</span><span style=\"color: #FFFFFF\"> width</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">return</span><span style=\"color: #FFFFFF\"> image.</span><span style=\"color: #82AAFF\">resize</span><span style=\"color: #89DDFF\">((</span><span style=\"color: #82AAFF\">new_width, new_height</span><span style=\"color: #89DDFF\">))</span></code></pre>\n<h2 id=\"convert-image-to-greyscale\"><a href=\"#convert-image-to-greyscale\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Convert Image to GreyScale</h2>\n<p>We can use <code>convert</code> method on <code>image</code> with <code>L</code> option to get GreyScale image</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">def</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">to_greyscale</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">image</span><span style=\"color: #89DDFF\">):</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">return</span><span style=\"color: #FFFFFF\"> image.</span><span style=\"color: #82AAFF\">convert</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">L</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">)</span></code></pre>\n<h2 id=\"convert-greyscale-image-to-ascii-character\"><a href=\"#convert-greyscale-image-to-ascii-character\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Convert GreyScale Image to ASCII character</h2>\n<p>To convert the image to ASCII character, first get each pixel value<code>(0-255)</code>. Get the corresponding ASCII character and join them as a string</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">def</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">pixel_to_ascii</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">image</span><span style=\"color: #89DDFF\">):</span>\n<span style=\"color: #FFFFFF\">    pixels </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> image.</span><span style=\"color: #82AAFF\">getdata</span><span style=\"color: #89DDFF\">()</span>\n<span style=\"color: #FFFFFF\">    ascii_str </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"\"</span><span style=\"color: #C792EA\">;</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">for</span><span style=\"color: #FFFFFF\"> pixel </span><span style=\"color: #C792EA\">in</span><span style=\"color: #FFFFFF\"> pixels:</span>\n<span style=\"color: #FFFFFF\">        ascii_str </span><span style=\"color: #C792EA\">+=</span><span style=\"color: #FFFFFF\"> ASCII_CHARS</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #FFFFFF\">pixel</span><span style=\"color: #C792EA\">//</span><span style=\"color: #F78C6C\">25</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #C792EA\">;</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">return</span><span style=\"color: #FFFFFF\"> ascii_str</span></code></pre>\n<p>Now we have a <code>to_greyscale</code> method to convert image to GreyScale image, <code>pixel_to_ascii</code> method to convert GreyScale image to ASCII string, once we get the ASCII string of the image we need to split the string based on the width of the image and save it in a file</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">import</span><span style=\"color: #FFFFFF\"> PIL.Image</span>\n\n<span style=\"color: #C792EA\">def</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">():</span>\n<span style=\"color: #FFFFFF\">    path </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">input</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">Enter the path to the image fiel : </span><span style=\"color: #89DDFF\">\\n\"</span><span style=\"color: #89DDFF\">)</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">try</span><span style=\"color: #FFFFFF\">:</span>\n<span style=\"color: #FFFFFF\">        image </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> PIL.Image.</span><span style=\"color: #82AAFF\">open</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">path</span><span style=\"color: #89DDFF\">)</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">except</span><span style=\"color: #FFFFFF\">:</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">path</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">Unable to find image </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">)</span>\n\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #676E95\">#resize image</span>\n<span style=\"color: #FFFFFF\">    image </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">resize</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">image</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #C792EA\">;</span>\n\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #676E95\">#convert image to greyscale image</span>\n<span style=\"color: #FFFFFF\">    greyscale_image </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">to_greyscale</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">image</span><span style=\"color: #89DDFF\">)</span>\n\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #676E95\"># convert greyscale image to ascii characters</span>\n<span style=\"color: #FFFFFF\">    ascii_str </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">pixel_to_ascii</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">greyscale_image</span><span style=\"color: #89DDFF\">)</span>\n\n\n<span style=\"color: #FFFFFF\">    img_width </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> greyscale_image.width</span>\n<span style=\"color: #FFFFFF\">    ascii_str_len </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">len</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">ascii_str</span><span style=\"color: #89DDFF\">)</span>\n<span style=\"color: #FFFFFF\">    ascii_img</span><span style=\"color: #C792EA\">=</span><span style=\"color: #89DDFF\">\"\"</span>\n\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #676E95\">#Split the string based on width  of the image</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">for</span><span style=\"color: #FFFFFF\"> i </span><span style=\"color: #C792EA\">in</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">range</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> ascii_str_len</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> img_width</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\">:</span>\n<span style=\"color: #FFFFFF\">        ascii_img </span><span style=\"color: #C792EA\">+=</span><span style=\"color: #FFFFFF\"> ascii_str</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #FFFFFF\">i:i</span><span style=\"color: #C792EA\">+</span><span style=\"color: #FFFFFF\">img_width</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">+</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"\\n\"</span>\n\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #676E95\">#save the string to a file</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">with</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">open</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">ascii_image.txt</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">w</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">as</span><span style=\"color: #FFFFFF\"> f:</span>\n<span style=\"color: #FFFFFF\">        f.</span><span style=\"color: #82AAFF\">write</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">ascii_img</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #C792EA\">;</span>\n<span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></code></pre>\n<p>Thanks for reading.</p>\n","tags":[{"title":"Python","path":"/tag/Python/"},{"title":"Projects","path":"/tag/Projects/"},{"title":"programming","path":"/tag/programming/"}]}},"context":{}}