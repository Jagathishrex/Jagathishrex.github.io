{"hash":"bb47676ae9a047d8d9fcd4a5e9ed3a2be1a31209","data":{"post":{"title":"Add confirm box before user leave your page","date":"June 6, 2020","content":"<p>Before closing any tab, the <code>beforeunload</code> event will be triggered by the browser. The <code>beforeunload</code> event is triggered when the window, the document, and its resources are about to be unloaded. The document is still visible and the event is still cancelable at this point.</p>\n<p>To show a confirmation dialog before unloading, you need to call <code>event.preventDefault()</code>.\nIn addition to that, some browser requires one of the below action</p>\n<ul>\n<li>assigning a string to the event's returnValue property</li>\n<li>returning a string from the event handler</li>\n</ul>\n<p><strong>Example (assigning a string to the event's returnValue property)</strong></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFFFFF\">window</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">addEventListener</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">beforeunload</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">event</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95\">// Cancel the event as stated by the standard.</span>\n<span style=\"color: #FFFFFF\">  event</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">preventDefault</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95\">// Some browser requires returnValue to be set.</span>\n<span style=\"color: #FFFFFF\">  event</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">returnValue</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">''</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<p><strong>Example (returning a string from the event handler)</strong></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #FFFFFF\">window</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">addEventListener</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">beforeunload</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">event</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95\">// Cancel the event as stated by the standard.</span>\n<span style=\"color: #FFFFFF\">  event</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">preventDefault</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95\">// Some browser requires returning a string</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #89DDFF\">return</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">\"\"</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<blockquote>\n<p>calls to window.alert(), window.confirm(), and window.prompt() methods may be ignored during this event.</p>\n</blockquote>\n","tags":[{"title":"Js","path":"/tag/Js/"},{"title":"events","path":"/tag/events/"},{"title":"programming","path":"/tag/programming/"},{"title":"JavaScript","path":"/tag/JavaScript/"}]}},"context":{}}