{"hash":"40d5a017cb271761700a8ea3fe775477dafeabda","data":{"post":{"title":"Asynchronous Image Loading in JavaScript","date":"June 20, 2020","content":"<p>If you're are using more photos on your page then most of the time you may face a large loading time, more data loss. To reduce this time you need to load images asynchronously.</p>\n<p>Most of the image-based sites like Unsplash , Pexels load only limited images , once you scroll down they load the remaining images. So that the page loads faster and the user doesn't feel the delay on page load</p>\n<h2 id=\"lazy-loading\"><a href=\"#lazy-loading\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Lazy Loading</h2>\n<p>Lazy loading means loading the images only when needed . Consider you have an image that is below the visible viewport of the web page, then you need not to load the image. In that case we stop loading that image , and we render image only that image element is visible in the viewport.</p>\n<h2 id=\"using-loading-attribute-of-image\"><a href=\"#using-loading-attribute-of-image\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Using <code>loading</code> attribute of image</h2>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">myimg.jpg</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">loading</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">lazy</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">&gt;</span></code></pre>\n<p>When you set <code>lazy</code> as value to <code>loading</code> attribute , then the off-screen images are not loaded until the user scrolls to the element.</p>\n<h4 id=\"value-for-loading-attribute\"><a href=\"#value-for-loading-attribute\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Value for <code>loading</code> attribute</h4>\n<table>\n<thead>\n<tr>\n<th>value</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>lazy</code></td>\n<td>Will not load image until user scrolls near the element</td>\n</tr>\n<tr>\n<td><code>eager</code></td>\n<td>Load the resource immediately, regardless of where it's located on the page.</td>\n</tr>\n<tr>\n<td><code>auto</code></td>\n<td>Default lazy-loading behavior of the browser, which is the same as not including the attribute.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"checking-if-the-browser-supports-loading-attribute\"><a href=\"#checking-if-the-browser-supports-loading-attribute\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Checking if the Browser supports <code>loading</code> attribute</h2>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\"> (</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">loading</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">in</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">HTMLImageElement</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">prototype) </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #FFCB6B\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">supported</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">else</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #FFCB6B\">console</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">log</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">use Intersection observer or polyfill</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span></code></pre>\n<hr>\n<h2 id=\"using-intersection-observer\"><a href=\"#using-intersection-observer\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Using Intersection Observer</h2>\n<p>Use this method only to the images which are not visible in the viewport on loading the page.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">data-src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">unicorn.jpg</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">alt</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">…</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">loading</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">lazy</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">lazyload</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span>\n<span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">data-src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">cats.jpg</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">alt</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">…</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">loading</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">lazy</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">lazyload</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span>\n<span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">data-src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">dogs.jpg</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">alt</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">…</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">loading</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">lazy</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">lazyload</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span></code></pre>\n<p>Here you will set the <code>src</code> of the image in other <code>data-src</code>.</p>\n<ul>\n<li>If the <code>loading</code> is available then <code>loading</code> attribute as <code>lazy</code> &#x26; set <code>src</code>.</li>\n<li>If the <code>loading</code> is not supported then add <code>Intersection Observer</code> to it. The Intersection observer will set the <code>src</code> attribute once the user scrolls near the image</li>\n</ul>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">imageObserver</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">entries</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FF5370\">self</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #A6ACCD\">entries</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">forEach</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FF5370\">entry</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// loop all images</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">entry</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">isIntersecting</span><span style=\"color: #FFFFFF\">) </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// filtering visible image</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">entry</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">target</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">src</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">dataset</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">src</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #FF5370\">this</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">unobserve</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// remove observer</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">}</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span>\n\n<span style=\"color: #C792EA\">const</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">images</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">querySelectorAll</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">img.lazyload</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\"> (</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">loading</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">in</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">HTMLImageElement</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">prototype) </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #A6ACCD\">images</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">forEach</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FF5370\">img</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">      </span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">src</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">dataset</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">src</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">  </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">else</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">observer</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">new</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">IntersectionObserver</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">imageObserver</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #A6ACCD\">images</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">forEach</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FF5370\">img</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #A6ACCD\">observer</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">observe</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span></code></pre>\n<hr>\n<h2 id=\"other-workaround-is-using-a-small-resolution-image\"><a href=\"#other-workaround-is-using-a-small-resolution-image\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Other workaround is using a small resolution image</h2>\n<p>You can first load low-resolution image then load the high-resolution image asynchronously.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">unicorn-low.jpg</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">data-src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">unicorn.jpg</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #FFCB6B\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">lazyload</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span></code></pre>\n<p>In JavaScript, we add an observer in that we will load the image and replace the low-resolution image</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span style=\"color: #C792EA\">function</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #82AAFF\">imageObserver</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FF5370\">entries</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FF5370\">self</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #A6ACCD\">entries</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">forEach</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FF5370\">entry</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// loop all images</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">if</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">entry</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">isIntersecting</span><span style=\"color: #FFFFFF\">) </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// filtering visible image</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">newImg</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">new</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">Image</span><span style=\"color: #FFFFFF\">()</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">oldImg</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">entry</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFFFFF\">target</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #A6ACCD\">newImg</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">onload</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">function</span><span style=\"color: #89DDFF\">(){</span>\n<span style=\"color: #FFFFFF\">                </span><span style=\"color: #A6ACCD\">oldImg</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">replaceWith</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">newImg</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// replace old image with new high resolution image</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #89DDFF\">};</span>\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #A6ACCD\">newImg</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">src</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">oldImg</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">dataset</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">src</span><span style=\"color: #89DDFF\">;</span>\n\n<span style=\"color: #FFFFFF\">            </span><span style=\"color: #FF5370\">this</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">unobserve</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">oldImg</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// remove observer</span>\n<span style=\"color: #FFFFFF\">        </span><span style=\"color: #89DDFF\">}</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #89DDFF\">}</span>\n\n<span style=\"color: #C792EA\">let</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">observer</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">new</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #FFCB6B\">IntersectionObserver</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">imageObserver</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #C792EA\">const</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #A6ACCD\">images</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">querySelectorAll</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">img.lazyload</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span>\n<span style=\"color: #A6ACCD\">images</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">forEach</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #FF5370\">img</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #89DDFF\">{</span>\n<span style=\"color: #FFFFFF\">    </span><span style=\"color: #A6ACCD\">observer</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">observe</span><span style=\"color: #FFFFFF\">(</span><span style=\"color: #A6ACCD\">img</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #676E95\">// in observer fn the src will be replaced with high</span>\n<span style=\"color: #89DDFF\">}</span><span style=\"color: #FFFFFF\">)</span><span style=\"color: #89DDFF\">;</span></code></pre>\n<hr>\n<h2 id=\"available-libraries-for-lazy-loading\"><a href=\"#available-libraries-for-lazy-loading\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Available Libraries for lazy loading</h2>\n<ul>\n<li><a href=\"https://github.com/malchata/yall.js/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Yall.js</a></li>\n<li><a href=\"https://github.com/ApoorvSaxena/lozad.js/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lozad.js</a></li>\n<li><a href=\"https://github.com/aFarkas/lazysizes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">LazySize.js</a></li>\n</ul>\n<hr>\n<p>Please donate <a href=\"https://www.paypal.me/jagathishSaravanan?locale.x=en_GB\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>, for making more tutorials.</p>\n","tags":[{"title":"JavaScript","path":"/tag/JavaScript/"},{"title":"performance","path":"/tag/performance/"},{"title":"image","path":"/tag/image/"}]}},"context":{}}